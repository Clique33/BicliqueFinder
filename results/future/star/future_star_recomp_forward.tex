
\documentclass{article}
\usepackage[paperheight=10.6in,paperwidth=5in,top=1in,bottom=1in,right=1in,left=1in]{geometry}
\usepackage[table,xcdraw]{xcolor}
\usepackage{tikz}
\usetikzlibrary{shapes, arrows}

\newcommand{\blue}{\cellcolor[HTML]{3166FF}}
\newcommand{\green}{\cellcolor[HTML]{32CB00}}
\newcommand{\salmon}{\cellcolor[HTML]{FD6864}}
\newcommand{\darkgreen}{\cellcolor[HTML]{646809}}
\newcommand{\grey}{\cellcolor[HTML]{9B9B9B}}

\begin{document}
\pagestyle{empty}
% Define block styles
\tikzstyle{line} = [draw, -latex']
   
\centering
\begin{tikzpicture}[node distance = 1.7cm, auto]
% Draw States
	\node(state12)[ yshift=-2cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\end{tabular}};
 		\node(numberOfState12)[right of=state12,xshift=0.4cm]{$\#12$};
		\node(xor3)[below of=state12]{$\oplus$};
	\node(state13)[below of=xor3]{\begin{tabular}{|l|l|l|l|}
		\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\grey&\grey&\grey&\grey\\\hline
		\end{tabular}};
 		\node(numberOfState13)[right of=state13,xshift=0.4cm]{$\#13$};
	\node(state16)[below of=state13, yshift=-2cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		\end{tabular}};
 		\node(numberOfState16)[right of=state16,xshift=0.4cm]{$\#16$};
		\node(xor4)[below of=state16]{$\oplus$};
	\node(state17)[below of=xor4]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		&&&\grey\\\hline
		\end{tabular}};
 		\node(numberOfState17)[right of=state17,xshift=0.4cm]{$\#17$};
	\node(state20)[below of=state17, yshift=-2cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\grey\\\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		\end{tabular}};
 		\node(numberOfState20)[right of=state20,xshift=0.4cm]{$\#20$};
		\node(xor5)[below of=state20]{$\oplus$};
	\node(state21)[below of=xor5]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\grey\\\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		\end{tabular}};
 		\node(numberOfState21)[right of=state21,xshift=0.4cm]{$\#21$};
    % Draw keys
	\node(K3)[left of=xor3, xshift=-1.0cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		\end{tabular}};
		\node(numberK3)[left of=K3,xshift=-0.5cm]{$\$3$};
	\node(K4)[left of=xor4, xshift=-1.0cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		\end{tabular}};
		\node(numberK4)[left of=K4,xshift=-0.5cm]{$\$4$};
	\node(K5)[left of=xor5, xshift=-1.0cm]{\begin{tabular}{|l|l|l|l|}
		\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		&&&\\\hline
		\end{tabular}};
		\node(numberK5)[left of=K5,xshift=-0.5cm]{$\$5$};
    % Draw edges
	\path [line] (state12) -- (xor3);
	\path [line] (xor3) -- (state13);
	\path [line] (state13) --  node{\begin{tabular}{l}
                                        SC \\
                                        MC \\ 
                                        SR
                                    \end{tabular}} (state16);
	\path [line] (state16) -- (xor4);
	\path [line] (xor4) -- (state17);
	\path [line] (state17) --  node{\begin{tabular}{l}
                                        SC \\
                                        MC \\ 
                                        SR
                                    \end{tabular}} (state20);
	\path [line] (state20) -- (xor5);
	\path [line] (xor5) -- (state21);
	\path [line] (K3) -- (xor3);
	\path [line] (K4) -- (xor4);
	\path [line] (K5) -- (xor5);
\end{tikzpicture}
\end{document}
BUILD SUCCESSFUL (total time: 2 seconds)
